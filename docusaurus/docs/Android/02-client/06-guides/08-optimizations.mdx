# Optimizations

The SDK is optimized to avoid waste of resources and improve performance. You can freely choose which optimizations should be enabled or disabled.

## Multiple Calls to API

After version `5.3.0`, the SDK prevents the user from making multiple calls to the backend. If a call is already running, the SDK merges a new request into the current one and the data is propagated to both requesters of the `Call`. 

You can change the default behavior and force calls to always make new requests to API and never merge two requests into one by using:


```
ChatClient.Builder.disableDistinctApiCalls()
```

If you want to control new requests to API in a more granular way, you can use the extension function:

```
Call<T>.forceNewRequest(): Call<T>
```

The returned `Call` will be forced to make a new request to API. 


## IQuerySort
To sort your object and present then in a desired order, tt is possible to choose between 2 implementations of QuerySorter: `QuerySort` and `QuerySortByField`. 

`QuerySort` uses reflection to find the fields used for comparison. This helps you avoid creating an extra comparator implementation to support your's use case.

The drawback is that reflection is an expensive operation and this implementation will have lower performance compared to `QuerySortByField`.

You can also choose to not use reflection and gain performance by using `QuerySortByField` instead but this requires some extra work. Your custom class needs to implement the `ComparableFieldProvider` interface and provide the names of the fields used to sort the list.

:::note
Models included in the SDK already implement the `ComparableFieldProvider` interface and include all the fields together with `extraData`!
:::